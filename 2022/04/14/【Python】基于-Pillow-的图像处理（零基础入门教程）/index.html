<!DOCTYPE html><html lang="zh-CN,zh-TW,en,default"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="Python,AI,Machine Learning,Deep Learning"><meta name="description" content="Python 开发者，致力于人工智能 | 机器学习 | 深度学习 知识&amp;技术分享"><meta name="author" content="Xavier Jiezou"><title>【Python】基于 Pillow 的图像处理（零基础入门教程） | ZXC&#39;s Blog</title><link rel="stylesheet" href="/css/style.css"><link rel="shortcut icon" href="/images/logo@800x800.jpg"><link rel="stylesheet" href="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css"><script id="hexo-configurations">let KEEP=window.KEEP||{};KEEP.hexo_config={hostname:"xavierjiezou.github.io",root:"/",language:["zh-CN","zh-TW","en","default"],path:"search.xml"},KEEP.theme_config={toc:{enable:!0,number:!0,expand_all:!0,init_open:!0},style:{primary_color:"#0066CC",avatar:"/images/avatar.jpg",favicon:"/images/logo@800x800.jpg",article_img_align:"left",left_side_width:"260px",content_max_width:"920px",hover:{shadow:!0,scale:!0},first_screen:{enable:!0,background_img:"/images/bg.svg",description:"Keep coding and Keep loving."},scroll:{progress_bar:{enable:!0},percent:{enable:!0}}},local_search:{enable:!0,preload:!0},code_copy:{enable:!0,style:"default"},pjax:{enable:!1},lazyload:{enable:!0},version:"3.4.5"},KEEP.language_ago={second:"%s seconds ago",minute:"%s minutes ago",hour:"%s hours ago",day:"%s days ago",week:"%s weeks ago",month:"%s months ago",year:"%s years ago"}</script><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="ZXC's Blog" type="application/atom+xml">
</head><body><div class="progress-bar-container"><span class="scroll-progress-bar"></span></div><main class="page-container"><div class="page-main-content"><div class="page-main-content-top"><header class="header-wrapper"><div class="header-content"><div class="left"><a class="logo-image" href="/"><img src="/images/logo@800x800.jpg"> </a><a class="logo-title" href="/">ZXC&#39;s Blog</a></div><div class="right"><div class="pc"><ul class="menu-list"><li class="menu-item"><a href="/">首页</a></li><li class="menu-item"><a href="/archives">归档</a></li><li class="menu-item"><a href="/categories">分类</a></li><li class="menu-item"><a href="/tags">标签</a></li><li class="menu-item"><a href="/links">友链</a></li><li class="menu-item"><a href="/about">关于</a></li><li class="menu-item"><a href="/changelog">更新日志</a></li><li class="menu-item search search-popup-trigger"><i class="fas fa-search"></i></li></ul></div><div class="mobile"><div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div><div class="icon-item menu-bar"><div class="menu-bar-middle"></div></div></div></div></div><div class="header-drawer"><ul class="drawer-menu-list"><li class="drawer-menu-item flex-center"><a href="/">首页</a></li><li class="drawer-menu-item flex-center"><a href="/archives">归档</a></li><li class="drawer-menu-item flex-center"><a href="/categories">分类</a></li><li class="drawer-menu-item flex-center"><a href="/tags">标签</a></li><li class="drawer-menu-item flex-center"><a href="/links">友链</a></li><li class="drawer-menu-item flex-center"><a href="/about">关于</a></li><li class="drawer-menu-item flex-center"><a href="/changelog">更新日志</a></li></ul></div><div class="window-mask"></div></header></div><div class="page-main-content-middle"><div class="main-content"><div class="fade-in-down-animation"><div class="article-content-container"><div class="article-title"><span class="title-hover-animation">【Python】基于 Pillow 的图像处理（零基础入门教程）</span></div><div class="article-header"><div class="avatar"><img src="/images/avatar.jpg"></div><div class="info"><div class="author"><span class="name">Xavier Jiezou</span></div><div class="meta-info"><div class="article-meta-info"><span class="article-date article-meta-item"><i class="fas fa-edit"></i>&nbsp; <span class="pc">2022-04-14 20:30:42</span> <span class="mobile">2022-04-14 20:30</span> </span><span class="article-categories article-meta-item"><i class="fas fa-folder"></i>&nbsp;<ul><li><a href="/categories/python/">python</a>&nbsp;</li></ul></span><span class="article-tags article-meta-item"><i class="fas fa-tags"></i>&nbsp;<ul><li><a href="/tags/python/">python</a>&nbsp;</li><li>| <a href="/tags/pillow/">pillow</a>&nbsp;</li><li>| <a href="/tags/image-processing/">image processing</a>&nbsp;</li></ul></span><span class="article-wordcount article-meta-item"><i class="fas fa-file-word"></i>&nbsp;<span>3.4k 字</span> </span><span class="article-min2read article-meta-item"><i class="fas fa-clock"></i>&nbsp;<span>15 分钟</span> </span><span class="article-pv article-meta-item"><i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span></span></div></div></div></div><div class="article-content markdown-body"><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/Pillow_Logo.png" alt="cover" width="100%"></p><h2 id="引言-12">引言</h2><p>Python Imaging Library（简称：PIL）是一个基于 Python 的图像处理库，这个库提供了广泛的文件格式支持、高效的内部表示和相当强大的图像处理能力。旨在快速访问几种基本像素格式存储的数据，为通用图像处理工具提供坚实的基础。本文是 Pillow 的零基础入门教程，让你轻松学会用 Pillow 处理图像的方法。</p><h2 id="安装-16">安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Pillow</span><br></pre></td></tr></table></figure><h2 id="教程-8">教程</h2><h3 id="使用-Image-类">使用 Image 类</h3><p>Pillow 中最重要的类就是 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image">Image<i class="fas fa-external-link-alt"></i></a> 类。通过这个类，你可以从文件中加载图像，处理图像，或从头创建图像。</p><p>使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.open">open()<i class="fas fa-external-link-alt"></i></a> 函数从文件中加载图像。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>)</span><br><span class="line">im</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_6_0.png" alt="png"></p><p>如果加载成功，会返回一个 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image">Image<i class="fas fa-external-link-alt"></i></a> 对象；如果图像无法打开，则会抛出 <a class="link" target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#OSError">OSError<i class="fas fa-external-link-alt"></i></a> 异常。现在让我们打印类实例的属性来看看图像的信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;format: <span class="subst">&#123;im.<span class="built_in">format</span>&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;size: <span class="subst">&#123;im.size&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;mode: <span class="subst">&#123;im.mode&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><pre><code>format: JPEG
size: (128, 128)
mode: RGB
</code></pre><ul class="lvl-0"><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.format">format<i class="fas fa-external-link-alt"></i></a>: 图像格式。标识图像来源。</p></li><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.size">size<i class="fas fa-external-link-alt"></i></a>: 图像大小。是一个二元组，包含了图像的宽和高。</p></li><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.mode">mode<i class="fas fa-external-link-alt"></i></a>: 图像模式。定义了图像中波段的数量和名称，以及像素类型和深度。常用模式有：<code>l</code> -&gt; 灰度图像；<code>RGB</code> -&gt; 真彩色图像；<code>CMYK</code> -&gt; 预印图像。</p></li></ul><p>一旦有了 Image 类的实例，你就可以使用该类定义的方法来操作图像。例如，让我们显示刚才加载的图像。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">im.show()</span><br></pre></td></tr></table></figure><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.show">show()<i class="fas fa-external-link-alt"></i></a> 方法首先将图像保存到一个临时文件中，然后调用系统默认打开图像的程序来加载这个临时文件。</p><h3 id="读取和保存图像">读取和保存图像</h3><p>Pillow 库支持读取多种图像格式。请使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#module-PIL.Image">Image<i class="fas fa-external-link-alt"></i></a> 模块的 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.open">open()<i class="fas fa-external-link-alt"></i></a> 函数从磁盘读取文件。读取的时候不必指定图像格式，Pillow 库会根据文件的内容自动确定。</p><p>请使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image">Image<i class="fas fa-external-link-alt"></i></a> 类的 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.save">save()<i class="fas fa-external-link-alt"></i></a> 方法来保存图像。保存图像时，文件后缀非常重要，因为这个库会根据你指定的文件拓展名来决定使用哪种存储格式。</p><h4 id="将其他格式的图像转换为-JPEG-格式">将其他格式的图像转换为 JPEG 格式</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.png&#x27;</span></span><br><span class="line">im_png = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_png.save(<span class="string">f&#x27;<span class="subst">&#123;fname.split(<span class="string">&quot;.&quot;</span>)[<span class="number">0</span>]&#125;</span>.jpg&#x27;</span>)</span><br></pre></td></tr></table></figure><h4 id="创建-JPEG-缩略图">创建 JPEG 缩略图</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">thumbnail_size = (<span class="number">64</span>, <span class="number">64</span>) <span class="comment"># 指定缩略图的大小</span></span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line"><span class="keyword">if</span> thumbnail_size:</span><br><span class="line">    im.thumbnail(thumbnail_size)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    im.thumbnail((im.width//<span class="number">2</span>, im.height//<span class="number">2</span>))</span><br><span class="line">im</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_19_0.png" alt="png"></p><h3 id="裁剪、粘贴及合并图像">裁剪、粘贴及合并图像</h3><h4 id="裁剪图像">裁剪图像</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">box = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">64</span>, <span class="number">64</span>)</span><br><span class="line">region = im.crop(box)</span><br><span class="line">region</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_22_0.png" alt="png"></p><p>Pillow 定义图像左上角坐标为 (0, 0)，<a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.crop">crop()<i class="fas fa-external-link-alt"></i></a> 方法接受一个四元组参数，对应裁剪的坐标 (左, 上, 右, 下)。例如，(0, 0, 64, 64) 表示裁剪矩形左上角的坐标是 (0, 0)，右下角的坐标是 (64, 64)。那么，最终裁剪的子图大小就是 (64-0, 64-0)。</p><h4 id="粘贴图像">粘贴图像</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">region = region.transpose(Image.Transpose.ROTATE_180) <span class="comment"># 将图像旋转180°</span></span><br><span class="line">box = (<span class="number">64</span>, <span class="number">64</span>, <span class="number">128</span>, <span class="number">128</span>) <span class="comment"># 指定粘贴覆盖的区域</span></span><br><span class="line">im.paste(region, box) <span class="comment"># 粘贴图像</span></span><br><span class="line">im</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_25_0.png" alt="png"></p><p>使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.paste">paste()<i class="fas fa-external-link-alt"></i></a> 方法粘贴图像。贴图的大小必须和给定粘贴区域的大小一致，且不能超出给定底图的区域。</p><h4 id="合并图片">合并图片</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">size = (<span class="number">128</span>, <span class="number">128</span>)</span><br><span class="line">im_1 = Image.new(<span class="string">&#x27;RGBA&#x27;</span>, size, (<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line">im_2 = Image.new(<span class="string">&#x27;RGBA&#x27;</span>, size, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line">im_3 = Image.new(<span class="string">&#x27;RGBA&#x27;</span>, size, (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>, <span class="number">255</span>))</span><br><span class="line">im_3.paste(im_1, (<span class="number">0</span>, size[<span class="number">1</span>]//<span class="number">3</span>))</span><br><span class="line">im_3.paste(im_2, (<span class="number">0</span>, size[<span class="number">1</span>]//<span class="number">3</span>*<span class="number">2</span>))</span><br><span class="line">im_3</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_28_0.png" alt="png"></p><h4 id="划分和合并波段">划分和合并波段</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">r, g, b = im.split()</span><br><span class="line">rgb = Image.merge(<span class="string">&#x27;RGB&#x27;</span>, (r, g, b))</span><br><span class="line">bgr = Image.merge(<span class="string">&#x27;RGB&#x27;</span>, (b, g, r))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [r, g, b, rgb, bgr]</span><br><span class="line">plt.figure(figsize=(<span class="number">15</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">5</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;rgb&#x27;</span>, <span class="string">&#x27;bgr&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j, cmap=plt.cm.gray)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_30_0.png" alt="png"></p><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.split">split()<i class="fas fa-external-link-alt"></i></a> 方法用于划分图像波段。对于单波段图像，返回它本身。</p><h3 id="几何变换">几何变换</h3><h4 id="缩放和旋转图像">缩放和旋转图像</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">im = Image.new(<span class="string">&#x27;RGB&#x27;</span>, (<span class="number">128</span>, <span class="number">128</span>), <span class="string">&#x27;cyan&#x27;</span>)</span><br><span class="line">im_resied = im.resize((<span class="number">64</span>, <span class="number">64</span>))</span><br><span class="line">im_rotated = im.rotate(<span class="number">45</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, im_resied, im_rotated]</span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;resized&#x27;</span>, <span class="string">&#x27;rotated&#x27;</span>][i])</span><br><span class="line">    <span class="comment"># plt.axis(&#x27;off&#x27;) # 为了对比 resize 前后图片的大小，我们这里就不隐藏坐标轴了</span></span><br><span class="line">    plt.imshow(j, cmap=plt.cm.gray)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_34_0.png" alt="png"></p><p>使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.resize">resize()<i class="fas fa-external-link-alt"></i></a> 方法缩放图像，该方法接受一个二元组，其含义为图像的宽高；使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.rotate">rotate()<i class="fas fa-external-link-alt"></i></a> 方法旋转图像，接受一个整数，其含义为逆时针旋转的角度。</p><h4 id="翻转图像">翻转图像</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_h_flip = im.transpose(Image.Transpose.FLIP_LEFT_RIGHT)</span><br><span class="line">im_v_flip = im.transpose(Image.Transpose.FLIP_TOP_BOTTOM)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, im_h_flip, im_v_flip]</span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;flip horizontally&#x27;</span>, <span class="string">&#x27;flip vertically&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j, cmap=plt.cm.gray)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_37_0.png" alt="png"></p><p>使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.transpose">transpose()<i class="fas fa-external-link-alt"></i></a> 方法可以实现图像的水平翻转和垂直翻转。</p><h3 id="颜色变换">颜色变换</h3><p>Pillow 库允许使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.convert">convert()<i class="fas fa-external-link-alt"></i></a> 方法在不同的像素表示之间转换图像。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_L = im.convert(<span class="string">&#x27;L&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, im_L]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original_RGB&#x27;</span>, <span class="string">&#x27;converted_Gray&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j, cmap=plt.cm.gray)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_41_0.png" alt="png"></p><p>该库支持每个格式与 <code>L</code> 和 <code>RGB</code> 的相互转换，但如何和其他格式进行转换，一般采用 RGB 做中间媒介。</p><h3 id="图像增强">图像增强</h3><p>Pillow 库提供了大量的的用于图像增强的方法和模块。</p><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/ImageFilter.html">ImageFilter<i class="fas fa-external-link-alt"></i></a> 模块中封装了很多用于图像滤波的类，包括高斯模糊，边缘增强，细节滤波等等。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  ImageFilter</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_out = im.<span class="built_in">filter</span>(ImageFilter.DETAIL) <span class="comment"># 细节滤波，使图像中的细节更加明显</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, im_out]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;after detail filtering&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_46_0.png" alt="png"></p><h4 id="像素点操作">像素点操作</h4><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.point">point()<i class="fas fa-external-link-alt"></i></a> 方法用于批量转换图像像素点。该方法接受一个 lambda 函数作为参数，图像中所有像素点都根据该函数进行处理。例如，下方这个例子就是通过 point() 方法对图像的对比度进行增强。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_out = im.point(<span class="keyword">lambda</span> _: _*<span class="number">1.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, im_out]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;after contrast enhanced&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_49_0.png" alt="png"></p><h4 id="高级图像增强">高级图像增强</h4><p>要想获得更高级的图像增强，你可以使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/ImageEnhance.html#module-PIL.ImageEnhance">ImageEnhance<i class="fas fa-external-link-alt"></i></a> 模块中定义的类。通过那些类，你可以快速地对图像的亮度、对比度、色彩平衡以及锐化程度进行调节。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageEnhance</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">enh = ImageEnhance.Brightness(im).enhance(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">im_list = [im, enh]</span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">5</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">2</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title([<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;100% more brightness&#x27;</span>][i])</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_52_0.png" alt="png"></p><h3 id="图像序列">图像序列</h3><p>Pillow 库也包含对图像序列（动画格式）的一些基本支持。支持的序列格式文件包括：GIF、TIFF 和 FLI 等等。</p><h4 id="读取序列">读取序列</h4><p>当加载序列图像时，默认加载的是第一帧。你可以使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.seek">seek()<i class="fas fa-external-link-alt"></i></a> 和 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.tell">tell()<i class="fas fa-external-link-alt"></i></a> 方法访问不同的帧。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/digit.gif&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_list = [im.copy()]</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        im.seek(im.tell()+<span class="number">1</span>)</span><br><span class="line">        im_list.append(im.copy())</span><br><span class="line"><span class="keyword">except</span> EOFError:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title(<span class="built_in">str</span>(i+<span class="number">1</span>))</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_57_0.png" alt="png"></p><h4 id="迭代序列">迭代序列</h4><p>除使用 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.seek">seek()<i class="fas fa-external-link-alt"></i></a> 方法读取图像序列外，<a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/ImageSequence.html">ImageSequence<i class="fas fa-external-link-alt"></i></a> 模块还提供了 for 循环迭代遍历图像序列的方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, ImageSequence</span><br><span class="line">fname = <span class="string">&#x27;images/test/digit.gif&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_list = []</span><br><span class="line"><span class="keyword">for</span> frame <span class="keyword">in</span> ImageSequence.Iterator(im):</span><br><span class="line">    im_list.append(frame.copy())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title(<span class="built_in">str</span>(i+<span class="number">1</span>))</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_60_0.png" alt="png"></p><p>此外，你也可以通过 Image 模块定义的属性 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.n_frames">n_frames<i class="fas fa-external-link-alt"></i></a> 来控制 for 循环的次数。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/digit.gif&#x27;</span></span><br><span class="line">im = Image.<span class="built_in">open</span>(fname)</span><br><span class="line">im_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(im.n_frames):</span><br><span class="line">    im.seek(i)</span><br><span class="line">    im_list.append(im.copy())</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.figure(figsize=(<span class="number">9</span>, <span class="number">3</span>))</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(im_list):</span><br><span class="line">    plt.subplot(<span class="number">1</span>, <span class="number">3</span>, i+<span class="number">1</span>)</span><br><span class="line">    plt.title(<span class="built_in">str</span>(i+<span class="number">1</span>))</span><br><span class="line">    plt.axis(<span class="string">&#x27;off&#x27;</span>)</span><br><span class="line">    plt.imshow(j)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_62_0.png" alt="png"></p><h3 id="PostScript-打印">PostScript 打印</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, PSDraw</span><br><span class="line"><span class="keyword">with</span> Image.<span class="built_in">open</span>(<span class="string">&quot;images/test/hopper.jpg&quot;</span>) <span class="keyword">as</span> im:</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.ps&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        <span class="comment"># 创建文档</span></span><br><span class="line">        ps = PSDraw.PSDraw(fp)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 开始文档</span></span><br><span class="line">        ps.begin_document(<span class="string">&quot;hopper&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 插入图片</span></span><br><span class="line">        ps.image(box, im, <span class="number">75</span>)</span><br><span class="line">        ps.rectangle((<span class="number">1</span> * <span class="number">72</span>, <span class="number">2</span> * <span class="number">72</span>, <span class="number">7</span> * <span class="number">72</span>, <span class="number">10</span> * <span class="number">72</span>))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 插入标题</span></span><br><span class="line">        ps.setfont(<span class="string">&quot;HelveticaNarrow-Bold&quot;</span>, <span class="number">36</span>)</span><br><span class="line">        ps.text((<span class="number">3</span> * <span class="number">72</span>, <span class="number">4</span> * <span class="number">72</span>), <span class="string">&quot;hopper&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 结束文档</span></span><br><span class="line">        ps.end_document()</span><br></pre></td></tr></table></figure><h3 id="更多读取图片的方式">更多读取图片的方式</h3><p>我们通常使用 Image.open(filename) 的方式来打开一张图片。其实，Image.open() 还可以作为上下文管理器。如果一切顺利，返回一个 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image">PIL.Image.Image<i class="fas fa-external-link-alt"></i></a> 对象，否则抛出 <a class="link" target="_blank" rel="noopener" href="https://docs.python.org/3/library/exceptions.html#OSError">OSError<i class="fas fa-external-link-alt"></i></a> 异常。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">with</span> Image.<span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>) <span class="keyword">as</span> im:</span><br><span class="line">    im.show()</span><br></pre></td></tr></table></figure><h4 id="从打开的文件中读取">从打开的文件中读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    im = Image.<span class="built_in">open</span>(fp)</span><br><span class="line">    im.show()</span><br></pre></td></tr></table></figure><h4 id="从-tar-存档中读取">从 tar 存档中读取</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image, TarIO</span><br><span class="line">fp = TarIO.TarIO(<span class="string">&#x27;images/test/hopper.tar&#x27;</span>, <span class="string">&quot;hopper.jpg&quot;</span>)</span><br><span class="line">im = Image.<span class="built_in">open</span>(fp)</span><br><span class="line">im</span><br></pre></td></tr></table></figure><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_71_0.png" alt="png"></p><h4 id="批量处理">批量处理</h4><p>例如，将所有 PNG 格式的图片都转换成低质量的 JPEG 格式保存在工作目录中。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress_image</span>(<span class="params">source_path, dest_path</span>):</span></span><br><span class="line">    <span class="keyword">with</span> Image.<span class="built_in">open</span>(source_path) <span class="keyword">as</span> img:</span><br><span class="line">        <span class="keyword">if</span> img.mode != <span class="string">&quot;RGB&quot;</span>:</span><br><span class="line">            img = img.convert(<span class="string">&quot;RGB&quot;</span>)</span><br><span class="line">        img.save(dest_path, <span class="string">&quot;JPEG&quot;</span>, optimize=<span class="literal">True</span>, quality=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="keyword">for</span> path <span class="keyword">in</span> glob.glob(<span class="string">&quot;*.png&quot;</span>):</span><br><span class="line">        compress_image(path, path[:-<span class="number">4</span>] + <span class="string">&quot;.jpg&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="控制解码器">控制解码器</h3><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.draft">draft()<i class="fas fa-external-link-alt"></i></a> 方法允许操作一个打开但尚未加载的图像，使其尽可能与给定模式和大小匹配，这是通过重新配置图像解码器来实现的。但仅适用于 JPEG 和 MPO 文件。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line">fname = <span class="string">&#x27;images/test/hopper.jpg&#x27;</span></span><br><span class="line"><span class="keyword">with</span> Image.<span class="built_in">open</span>(fname) <span class="keyword">as</span> im:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;original =&quot;</span>, im.mode, im.size)</span><br><span class="line"></span><br><span class="line">    im.draft(<span class="string">&quot;L&quot;</span>, (<span class="number">64</span>, <span class="number">64</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;draft =&quot;</span>, im.mode, im.size)</span><br><span class="line"></span><br><span class="line">    im.show()</span><br></pre></td></tr></table></figure><pre><code>original = RGB (128, 128)
draft = L (64, 64)
</code></pre><h2 id="概念-2">概念</h2><h3 id="波段">波段</h3><p>一幅图像可能由一个或多个波段组成，只要它们具有相同的尺寸和深度。例如，PNG 图像可能有 R、G、B 和 A 四个波段，分别表示红色、绿色、蓝色和 alpha 透明值。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(im.getbands())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(im.getdata(<span class="number">0</span>))[:<span class="number">10</span>]) <span class="comment"># 数据太多，这里只展示前10个像素点的值</span></span><br><span class="line">r, g, b = im.split()</span><br><span class="line">r = im.getchannel(<span class="string">&#x27;R&#x27;</span>)</span><br><span class="line">r</span><br></pre></td></tr></table></figure><pre><code>('R', 'G', 'B')
[24, 18, 16, 22, 25, 23, 19, 17, 28, 29]
</code></pre><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/output_81_1.png" alt="png"></p><ul class="lvl-0"><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.getbands">Image.getbands()<i class="fas fa-external-link-alt"></i></a>：获取图像中所有波段的名称，并以元组的形式返回。</p></li><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.getdata">Image.getdata(band=None)<i class="fas fa-external-link-alt"></i></a>：将此图像的内容作为包含像素值的序列对象返回。序列对象是扁平的，即第一行的值紧跟在第 0 行之后，依此类推。<code>band</code> 参数表示波段的索引，默认是 <code>None</code>，返回所有波段。</p></li><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.split">Image.split()<i class="fas fa-external-link-alt"></i></a>：将图像分割为单独的波段。</p></li><li class="lvl-2"><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.getchannel">Image.getchannel(channel)<i class="fas fa-external-link-alt"></i></a>：返回图像的单个通道。<code>channel</code> 参数可接受一个整型的索引值，或大写的通道名称。</p></li></ul><h3 id="模式">模式</h3><p>图像模式 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/handbook/concepts.html#modes">mode<i class="fas fa-external-link-alt"></i></a> 是一个字符串，它定义图像中像素的类型和深度。每个像素使用位深度的全部范围，例如：1 位像素的范围是 0-1，8 位像素的范围是 0-255，以此类推。当前 Pillow 支持以下标准模式：</p><ul class="lvl-0"><li class="lvl-2"><p><code>1</code>：1 位，黑白，每字节存储 1 个像素</p></li><li class="lvl-2"><p><code>L</code>：8 位，黑白</p></li><li class="lvl-2"><p><code>P</code>：8 位，使用调色板映射到任何其他模式</p></li><li class="lvl-2"><p><code>RGB</code>：3x8 位，真彩色</p></li><li class="lvl-2"><p><code>RGBA</code>：4x8 位，带透明遮罩的真彩色</p></li><li class="lvl-2"><p><code>CMYK</code>：4x8 位，印刷色彩（cyan，magenta，yellow，black）</p></li><li class="lvl-2"><p>……</p></li></ul><p>你可以通过 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.mode">mode<i class="fas fa-external-link-alt"></i></a> 属性读取图像的模式。这是一个包含上述值之一的字符串。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(im.mode)</span><br><span class="line">r = im.getchannel(<span class="string">&#x27;R&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.mode)</span><br></pre></td></tr></table></figure><pre><code>RGB
L
</code></pre><h3 id="大小">大小</h3><p>你可以通过 <a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.Image.size">size<i class="fas fa-external-link-alt"></i></a> 属性读取图像大小。这是一个二元组，包含以像素位单位的水平和垂直大小，即图像的宽和高。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span>  Image</span><br><span class="line">im = Image.<span class="built_in">open</span>(<span class="string">&#x27;images/test/hopper.jpg&#x27;</span>)</span><br><span class="line">im.size</span><br></pre></td></tr></table></figure><pre><code>(128, 128)
</code></pre><h3 id="坐标系">坐标系</h3><p>Pillow 使用笛卡尔坐标系，左上角坐标为 (0, 0)。坐标通常作为 2 元组传递给类或函数。矩形表示为 4 元组，前两个元素是左上角点的坐标，后两个元素代表右下角点的坐标。</p><h3 id="调色板">调色板</h3><p>调色板模式（p）使用调色板为每个像素定义实际颜色。</p><h3 id="滤波器">滤波器</h3><p>对于可能将多个输入像素映射到单个输出像素的几何操作，Pillow 提供了多种不同的重采样滤波器。</p><ul class="lvl-0"><li class="lvl-2"><p>PIL.Image.NEAREST：最邻近采样</p></li><li class="lvl-2"><p>PIL.Image.BILINEAR：双线性插值</p></li><li class="lvl-2"><p>PIL.Image.HAMMING：汉明采样</p></li><li class="lvl-2"><p>PIL.Image.BICUBIC：双三插值</p></li><li class="lvl-2"><p>PIL.Image.LANCZOS：余弦滤波</p></li></ul><h2 id="参考-15">参考</h2><blockquote><p><a class="link" target="_blank" rel="noopener" href="https://pillow.readthedocs.io/en/stable/index.html">Pillow 官方文档<i class="fas fa-external-link-alt"></i></a></p></blockquote><h2 id="关于-15">关于</h2><details><summary>点击查看作者联系方式和微信公众号</summary><table><thead><tr><th><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting@main/about/qq2.jpg" alt="qq"></th><th><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting@main/about/wechat2.jpg" alt="wx"></th></tr></thead></table><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting@main/about/wechat-official-account.webp" alt="wechat-official-account"></p></details><h2 id="插画-15">插画</h2><p><img lazyload src="/images/loading.svg" data-src="https://fastly.jsdelivr.net/gh/XavierJiezou/picx-image-hosting/post/%E3%80%90Python%E3%80%91%E5%9F%BA%E4%BA%8E-Pillow-%E7%9A%84%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86%EF%BC%88%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%EF%BC%89/Yomi-pixiv.net-82757552.jpg" alt="anime" width="100%"></p><div align="center" style="color:#ccc">【画师】Yomi 【P站ID】8275755</div></div><div class="post-copyright-info"><div class="article-copyright-info-container"><ul><li>本文标题：【Python】基于 Pillow 的图像处理（零基础入门教程）</li><li>本文作者：Xavier Jiezou</li><li>创建时间：2022-04-14 20:30:42</li><li>本文链接：https://github.ghgxj.xyz/2022/04/14/【Python】基于-Pillow-的图像处理（零基础入门教程）/</li><li>版权声明：本博客所有文章除特别声明外，均采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></div><ul class="post-tags-box"><li class="tag-item"><a href="/tags/python/">#python</a>&nbsp;</li><li class="tag-item"><a href="/tags/pillow/">#pillow</a>&nbsp;</li><li class="tag-item"><a href="/tags/image-processing/">#image processing</a>&nbsp;</li></ul><div class="article-nav"><div class="article-prev"><a class="prev" rel="prev" href="/2022/04/15/%E3%80%90Python%E3%80%91%E6%89%A7%E8%A1%8C%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4/"><span class="left arrow-icon flex-center"><i class="fas fa-chevron-left"></i> </span><span class="title flex-center"><span class="post-nav-title-item">【Python】执行系统命令</span> <span class="post-nav-item">上一篇</span></span></a></div><div class="article-next"><a class="next" rel="next" href="/2022/04/10/%E3%80%90Python%E3%80%91%E5%9B%BE%E5%83%8F%E5%8F%8D%E8%BD%AC-%E5%8F%8D%E8%89%B2%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%88pillow%EF%BC%89/"><span class="title flex-center"><span class="post-nav-title-item">【Python】图像反转/反色的三种方法（pillow）</span> <span class="post-nav-item">下一篇</span> </span><span class="right arrow-icon flex-center"><i class="fas fa-chevron-right"></i></span></a></div></div><div class="comment-container"><div class="comments-container"><div id="comment-anchor"></div><div class="comment-area-title"><i class="fas fa-comments">&nbsp;评论</i></div><div class="twikoo-container"><script src="//fastly.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js"></script><div id="twikoo-comment"></div><script>function loadTwikoo(){twikoo.init({el:"#twikoo-comment",envId:"twikoo-5glasdyj56858c6d",region:""})}{const o=setTimeout(()=>{loadTwikoo(),clearTimeout(o)},1e3)}</script></div></div></div></div></div></div></div><div class="page-main-content-bottom"><footer class="footer"><div class="info-container"><div class="copyright-info info-item">&copy; <span>2021</span> - 2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Xavier Jiezou</a></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="website-count info-item"><span id="busuanzi_container_site_uv">访问人数&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp; </span><span id="busuanzi_container_site_pv">总访问量&nbsp;<span id="busuanzi_value_site_pv"></span></span></div><div class="theme-info info-item">由 <a target="_blank" href="https://hexo.io">Hexo</a> 驱动&nbsp;|&nbsp;主题&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a></div><div class="icp-info info-item"><a target="_blank" rel="nofollow" href="https://beian.miit.gov.cn">鄂ICP备2021017368号</a></div></div></footer></div></div><div class="post-tools"><div class="post-tools-container"><ul class="tools-list"><li class="tools-item page-aside-toggle"><i class="fas fa-outdent"></i></li><li class="go-comment"><i class="fas fa-comment"></i></li></ul></div></div><div class="right-bottom-side-tools"><div class="side-tools-container"><ul class="side-tools-list"><li class="tools-item tool-font-adjust-plus flex-center"><i class="fas fa-search-plus"></i></li><li class="tools-item tool-font-adjust-minus flex-center"><i class="fas fa-search-minus"></i></li><li class="tools-item tool-expand-width flex-center"><i class="fas fa-arrows-alt-h"></i></li><li class="tools-item tool-dark-light-toggle flex-center"><i class="fas fa-moon"></i></li><li class="tools-item rss flex-center"><a class="flex-center" href="/atom.xml" target="_blank"><i class="fas fa-rss"></i></a></li><li class="tools-item tool-scroll-to-bottom flex-center"><i class="fas fa-arrow-down"></i></li></ul><ul class="exposed-tools-list"><li class="tools-item tool-toggle-show flex-center"><i class="fas fa-cog fa-spin"></i></li><li class="tools-item tool-scroll-to-top flex-center"><i class="arrow-up fas fa-arrow-up"></i> <span class="percent"></span></li></ul></div></div><aside class="page-aside"><div class="post-toc-wrap"><div class="post-toc"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E8%A8%80-12"><span class="nav-number">1.</span> <span class="nav-text">引言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85-16"><span class="nav-number">2.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%99%E7%A8%8B-8"><span class="nav-number">3.</span> <span class="nav-text">教程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-Image-%E7%B1%BB"><span class="nav-number">3.1.</span> <span class="nav-text">使用 Image 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E5%92%8C%E4%BF%9D%E5%AD%98%E5%9B%BE%E5%83%8F"><span class="nav-number">3.2.</span> <span class="nav-text">读取和保存图像</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%86%E5%85%B6%E4%BB%96%E6%A0%BC%E5%BC%8F%E7%9A%84%E5%9B%BE%E5%83%8F%E8%BD%AC%E6%8D%A2%E4%B8%BA-JPEG-%E6%A0%BC%E5%BC%8F"><span class="nav-number">3.2.1.</span> <span class="nav-text">将其他格式的图像转换为 JPEG 格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-JPEG-%E7%BC%A9%E7%95%A5%E5%9B%BE"><span class="nav-number">3.2.2.</span> <span class="nav-text">创建 JPEG 缩略图</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A3%81%E5%89%AA%E3%80%81%E7%B2%98%E8%B4%B4%E5%8F%8A%E5%90%88%E5%B9%B6%E5%9B%BE%E5%83%8F"><span class="nav-number">3.3.</span> <span class="nav-text">裁剪、粘贴及合并图像</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A3%81%E5%89%AA%E5%9B%BE%E5%83%8F"><span class="nav-number">3.3.1.</span> <span class="nav-text">裁剪图像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B2%98%E8%B4%B4%E5%9B%BE%E5%83%8F"><span class="nav-number">3.3.2.</span> <span class="nav-text">粘贴图像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E5%9B%BE%E7%89%87"><span class="nav-number">3.3.3.</span> <span class="nav-text">合并图片</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%92%E5%88%86%E5%92%8C%E5%90%88%E5%B9%B6%E6%B3%A2%E6%AE%B5"><span class="nav-number">3.3.4.</span> <span class="nav-text">划分和合并波段</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%A0%E4%BD%95%E5%8F%98%E6%8D%A2"><span class="nav-number">3.4.</span> <span class="nav-text">几何变换</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BC%A9%E6%94%BE%E5%92%8C%E6%97%8B%E8%BD%AC%E5%9B%BE%E5%83%8F"><span class="nav-number">3.4.1.</span> <span class="nav-text">缩放和旋转图像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BF%BB%E8%BD%AC%E5%9B%BE%E5%83%8F"><span class="nav-number">3.4.2.</span> <span class="nav-text">翻转图像</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%9C%E8%89%B2%E5%8F%98%E6%8D%A2"><span class="nav-number">3.5.</span> <span class="nav-text">颜色变换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA"><span class="nav-number">3.6.</span> <span class="nav-text">图像增强</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%83%8F%E7%B4%A0%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-number">3.6.1.</span> <span class="nav-text">像素点操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E5%9B%BE%E5%83%8F%E5%A2%9E%E5%BC%BA"><span class="nav-number">3.6.2.</span> <span class="nav-text">高级图像增强</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%BE%E5%83%8F%E5%BA%8F%E5%88%97"><span class="nav-number">3.7.</span> <span class="nav-text">图像序列</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E5%BA%8F%E5%88%97"><span class="nav-number">3.7.1.</span> <span class="nav-text">读取序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%AD%E4%BB%A3%E5%BA%8F%E5%88%97"><span class="nav-number">3.7.2.</span> <span class="nav-text">迭代序列</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PostScript-%E6%89%93%E5%8D%B0"><span class="nav-number">3.8.</span> <span class="nav-text">PostScript 打印</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9B%B4%E5%A4%9A%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">3.9.</span> <span class="nav-text">更多读取图片的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8E%E6%89%93%E5%BC%80%E7%9A%84%E6%96%87%E4%BB%B6%E4%B8%AD%E8%AF%BB%E5%8F%96"><span class="nav-number">3.9.1.</span> <span class="nav-text">从打开的文件中读取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8E-tar-%E5%AD%98%E6%A1%A3%E4%B8%AD%E8%AF%BB%E5%8F%96"><span class="nav-number">3.9.2.</span> <span class="nav-text">从 tar 存档中读取</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%B9%E9%87%8F%E5%A4%84%E7%90%86"><span class="nav-number">3.9.3.</span> <span class="nav-text">批量处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E8%A7%A3%E7%A0%81%E5%99%A8"><span class="nav-number">3.10.</span> <span class="nav-text">控制解码器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E5%BF%B5-2"><span class="nav-number">4.</span> <span class="nav-text">概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A2%E6%AE%B5"><span class="nav-number">4.1.</span> <span class="nav-text">波段</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%BC%8F"><span class="nav-number">4.2.</span> <span class="nav-text">模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%A7%E5%B0%8F"><span class="nav-number">4.3.</span> <span class="nav-text">大小</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9D%90%E6%A0%87%E7%B3%BB"><span class="nav-number">4.4.</span> <span class="nav-text">坐标系</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E8%89%B2%E6%9D%BF"><span class="nav-number">4.5.</span> <span class="nav-text">调色板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BB%A4%E6%B3%A2%E5%99%A8"><span class="nav-number">4.6.</span> <span class="nav-text">滤波器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83-15"><span class="nav-number">5.</span> <span class="nav-text">参考</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%B3%E4%BA%8E-15"><span class="nav-number">6.</span> <span class="nav-text">关于</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8F%92%E7%94%BB-15"><span class="nav-number">7.</span> <span class="nav-text">插画</span></a></li></ol></div></div></aside><div class="image-viewer-container"><img src=""></div><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-input-field-pre"><i class="fas fa-keyboard"></i></span><div class="search-input-container"><input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fas fa-times"></i></span></div><div id="search-result"><div id="no-result"><i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></main><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script><div class="post-scripts"><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//fastly.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script></div></body></html>